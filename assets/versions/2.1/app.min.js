"use strict";!function(){angular.module("thomas",["ngAria","ngMaterial","duScroll","thomas.music","thomas.shows","thomas.contact"]),angular.module("thomas.music",[]),angular.module("thomas.shows",[]),angular.module("thomas.contact",[])}(),function(){angular.module("thomas.contact").controller("ContactCtrl",["$scope","$http","form",function(a,b,c){a.form=c}]).factory("form",["$rootScope","$http","$timeout",function(a,b,c){var d,e,f=!1,g=!1,h="SEND";return d={data:e,sent:f,sending:g,value:h,set:function(){this.data.name="",this.data.email="",this.data.message=""},success:function(){d.sending=!1,this.sent=!0,this.value="SENT",this.set(),c(function(){d.sent=!1,d.value="SEND"},5e3)},submit:function(){d.sending=!0,b({url:"./scripts/send.php",method:"POST",data:this.data,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){d.success(),console.log("OK",a)}).error(function(a){d.sending=!1,console.log("ERR",a)})}}}])}(),function(){angular.module("thomas").filter("mmss",function(){return function(a){var b=Math.floor(a/60),c=Math.floor(a)-60*b;return 10>c&&(c="0"+c),b+":"+c}})}(),function(){angular.module("thomas.music").controller("MusicCtrl",["$scope","$http","player",function(a,b,c){a.player=c,b.get("albums.json").success(function(b){a.albums=b})}]).factory("player",["audio","$rootScope",function(a,b){var c,d=[],e=!1,f={album:0,track:0};return c={playlist:d,current:f,playing:!1,pristine:!0,play:function(b,c){d.length&&(angular.isDefined(b)&&(f.track=b),angular.isDefined(c)&&(f.album=c),(!e||angular.isDefined(b))&&(a.src=d[f.album].tracks[f.track].url),a.play(),this.playing=!0,this.pristine=!1,e=!1)},pause:function(){c.playing&&(a.pause(),this.playing=!1,e=!0)},reset:function(){this.pause(),f.album=0,f.track=0},next:function(){d.length&&(e=!1,d[f.album].tracks.length>f.track+1?f.track++:(f.track=0,f.album=(f.album+1)%d.length),c.playing?this.play():(this.pristine=!0,this.paused=!0))},previous:function(){d.length&&(e=!1,a.currentTime>3?a.currentTime=0:f.track>0?f.track--:(f.album=(f.album-1+d.length)%d.length,f.track=d[f.album].tracks.length-1),this.playing&&this.play())},currentTime:function(){return a.currentTime||0},currentDuration:function(){return parseInt(a.duration,10)||0}},d.add=function(a){-1==d.indexOf(a)&&d.push(a)},d.remove=function(a){var b=d.indexOf(a);b==f.album&&this.reset(),d.splice(b,1)},a.addEventListener("ended",function(){b.$apply(c.next)},!1),a.addEventListener("timeupdate",function(){b.$apply(function(){c.progress=c.currentTime(),c.progress_percent=c.progress/c.currentDuration()*100})}),c}]).factory("audio",["$document",function(a){var b=a[0].createElement("audio");return b}])}(),function(){angular.module("thomas.shows").controller("ShowsCtrl",["$scope","$window","$http",function(a,b,c){var d=b.matchMedia("(orientation: portrait) and (max-width: 749px)");a.numCols=d.matches?2:3,a.showMore=!1,c.get("shows.json").success(function(b){a.shows=b})}])}();