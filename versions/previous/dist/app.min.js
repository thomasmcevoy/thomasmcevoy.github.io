var duScrollDefaultEasing=function(a){"use strict";return.5>a?Math.pow(2*a,2)/2:1-Math.pow(2*(1-a),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset",function(a,b,c,d,e,f,g){"use strict";var h=angular.element.prototype,i=function(a){return"undefined"!=typeof HTMLDocument&&a instanceof HTMLDocument||a.nodeType&&a.nodeType===a.DOCUMENT_NODE},j=function(a){return"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE},k=function(a){return j(a)||i(a)?a:a[0]};h.scrollTo=function(b,c,d){var e;if(angular.isElement(b)?e=this.scrollToElement:d&&(e=this.scrollToAnimated),e)return e.apply(this,arguments);var f=k(this);return i(f)?a.scrollTo(b,c):(f.scrollLeft=b,void(f.scrollTop=c))};var l,m;h.scrollToAnimated=function(a,f,g,h){g&&!h&&(h=e);var i=this.scrollLeft(),j=this.scrollTop(),k=Math.round(a-i),n=Math.round(f-j),o=null,p=this,q="scroll mousedown mousewheel touchmove keydown",r=function(a){(!a||a.which>0)&&(p.unbind(q,r),c(l),m.reject(),l=null)};if(l&&r(),m=b.defer(),!k&&!n)return m.resolve(),m.promise;var s=function(a){null===o&&(o=a);var b=a-o,c=b>=g?1:h(b/g);p.scrollTo(i+Math.ceil(k*c),j+Math.ceil(n*c)),1>c?l=d(s):(p.unbind(q,r),l=null,m.resolve())};return p.scrollTo(i,j),p.bind(q,r),l=d(s),m.promise},h.scrollToElement=function(a,b,c,d){var e=k(this);(!angular.isNumber(b)||isNaN(b))&&(b=g);var f=this.scrollTop()+k(a).getBoundingClientRect().top-b;return j(e)&&(f-=e.getBoundingClientRect().top),this.scrollTo(0,f,c,d)};var n={scrollLeft:function(b,c,d){if(angular.isNumber(b))return this.scrollTo(b,this.scrollTop(),c,d);var e=k(this);return i(e)?a.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:e.scrollLeft},scrollTop:function(b,c,d){if(angular.isNumber(b))return this.scrollTo(this.scrollTop(),b,c,d);var e=k(this);return i(e)?a.scrollY||document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop}};h.scrollToElementAnimated=function(a,b,c,d){return this.scrollToElement(a,b,c||f,d)},h.scrollTopAnimated=function(a,b,c){return this.scrollTop(a,b||f,c)},h.scrollLeftAnimated=function(a,b,c){return this.scrollLeft(a,b||f,c)};var o=function(a,b){return function(c,d){return d?b.apply(this,arguments):a.apply(this,arguments)}};for(var p in n)h[p]=h[p]?o(h[p],n[p]):n[p]}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(a){"use strict";var b=["webkit","moz","o","ms"];return function(c,d){if(a[c])return a[c];for(var e,f=c.substr(0,1).toUpperCase()+c.substr(1),g=0;g<b.length;g++)if(e=b[g]+f,a[e])return a[e];return d}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(a,b){"use strict";var c=0,d=function(a){var d=(new Date).getTime(),e=Math.max(0,16-(d-c)),f=b(function(){a(d+e)},e);return c=d+e,f};return a("requestAnimationFrame",d)}]).factory("cancelAnimation",["polyfill","$timeout",function(a,b){"use strict";var c=function(a){b.cancel(a)};return a("cancelAnimationFrame",c)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","scrollContainerAPI","duScrollGreedy","duScrollSpyWait",function(a,b,c,d,e){"use strict";var f=function(c){var f=!1,g=!1,h=function(){g=!1;var b=c.container,e=b[0],f=0;("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE)&&(f=e.getBoundingClientRect().top);var h,i,j,k,l,m;for(k=c.spies,i=c.currentlyActive,j=void 0,h=0;h<k.length;h++)l=k[h],m=l.getTargetPosition(),m&&m.top+l.offset-f<20&&-1*m.top+f<m.height&&(!j||j.top<m.top)&&(j={top:m.top,spy:l});j&&(j=j.spy),i===j||d&&!j||(i&&(i.$element.removeClass("active"),a.$broadcast("duScrollspy:becameInactive",i.$element)),j&&(j.$element.addClass("active"),a.$broadcast("duScrollspy:becameActive",j.$element)),c.currentlyActive=j)};return e?function(){f?g=!0:(h(),f=b(function(){f=!1,g&&h()},e,!1))}:h},g={},h=function(a){var b=a.$id,c={spies:[]};return c.handler=f(c),g[b]=c,a.$on("$destroy",function(){i(a)}),b},i=function(a){var b=a.$id,c=g[b],d=c.container;d&&d.off("scroll",c.handler),delete g[b]},j=h(a),k=function(a){return g[a.$id]?g[a.$id]:a.$parent?k(a.$parent):g[j]},l=function(a){var b,c,d=a.$element.scope();if(d)return k(d);for(c in g)if(b=g[c],-1!==b.spies.indexOf(a))return b},m=function(a){for(;a.parentNode;)if(a=a.parentNode,a===document)return!0;return!1},n=function(a){var b=l(a);b&&(b.spies.push(a),b.container&&m(b.container)||(b.container&&b.container.off("scroll",b.handler),b.container=c.getContainer(a.$element.scope()),b.container.on("scroll",b.handler).triggerHandler("scroll")))},o=function(a){var b=l(a);a===b.currentlyActive&&(b.currentlyActive=null);var c=b.spies.indexOf(a);-1!==c&&b.spies.splice(c,1)};return{addSpy:n,removeSpy:o,createContext:h,destroyContext:i,getContextForScope:k}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(a){"use strict";var b={},c=function(a,c){var d=a.$id;return b[d]=c,d},d=function(a){return b[a.$id]?a.$id:a.$parent?d(a.$parent):void 0},e=function(c){var e=d(c);return e?b[e]:a},f=function(a){var c=d(a);c&&delete b[c]};return{getContainerId:d,getContainer:e,setContainer:c,removeContainer:f}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(a,b,c){"use strict";return{link:function(d,e,f){e.on("click",function(e){if(f.href&&-1!==f.href.indexOf("#")){var g=document.getElementById(f.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(g&&g.getBoundingClientRect){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var h=f.offset?parseInt(f.offset,10):b,i=f.duration?parseInt(f.duration,10):a,j=c.getContainer(d);j.scrollToElement(angular.element(g),isNaN(h)?0:h,isNaN(i)?0:i)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(b){a.createContext(b)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(b,c,d){d.$observe("duScrollContainer",function(d){angular.isString(d)&&(d=document.getElementById(d)),d=angular.isElement(d)?angular.element(d):c,a.setContainer(b,d),b.$on("$destroy",function(){a.removeContainer(b)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(a,b,c,d){"use strict";var e=function(a,b,c){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$element=b,this.offset=c};return e.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},e.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},e.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(f,g,h){var i,j=h.ngHref||h.href;j&&-1!==j.indexOf("#")?i=j.replace(/.*(?=#[^\s]+$)/,"").substring(1):h.duScrollspy&&(i=h.duScrollspy),i&&c(function(){var c=new e(i,g,-(h.offset?parseInt(h.offset,10):b));a.addSpy(c),f.$on("$destroy",function(){a.removeSpy(c)}),f.$on("$locationChangeSuccess",c.flushTargetCache.bind(c)),d.$on("$stateChangeSuccess",c.flushTargetCache.bind(c))},0,!1)}}}]),angular.module("angularSlideables",[]).directive("slideable",function(){return{restrict:"C",compile:function(a){var b=a.html();return a.html('<div class="slideable_content" style="margin:0 !important; padding:0 !important" >'+b+"</div>"),function(a,b,c){c.duration=c.duration?c.duration:"1s",c.easing=c.easing?c.easing:"ease-in-out",b.css({overflow:"hidden",height:"0px",transitionProperty:"height",transitionDuration:c.duration,transitionTimingFunction:c.easing})}}}}).directive("slideToggle",function(){return{restrict:"A",link:function(a,b,c){var d,e;c.expanded=!1,b.bind("click",function(){if(d||(d=document.querySelector(c.slideToggle)),e||(e=d.querySelector(".slideable_content")),c.expanded)d.style.height="0px";else{e.style.border="1px solid rgba(0,0,0,0)";var a=e.clientHeight;e.style.border=0,d.style.height=a+"px"}c.expanded=!c.expanded})}}}),function(){"use strict";var a=angular.module("angularModalService",[]);a.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$timeout","$templateCache",function(a,b,c,d,e,f,g,h){function i(){var a=this,i=function(a,b){var c=f.defer();if(a)c.resolve(a);else if(b){var e=h.get(b);void 0!==e?c.resolve(e):d({method:"GET",url:b,cache:!0}).then(function(a){h.put(b,a.data),c.resolve(a.data)}).catch(function(a){c.reject(a)})}else c.reject("No template or templateUrl has been specified.");return c.promise};a.showModal=function(a){var d=f.defer(),h=a.controller;return h?(i(a.template,a.templateUrl).then(function(i){var k=e.$new(),l=f.defer(),m={$scope:k,close:function(a,b){(void 0===b||null===b)&&(b=0),g(function(){l.resolve(a)},b)}};if(a.inputs)for(var n in a.inputs)m[n]=a.inputs[n];var o=angular.element(i),p=b(o),q=p(k);m.$element=q;var r=c(h,m);a.appendElement?a.appendElement.append(q):j.append(q);var s={controller:r,scope:k,element:q,close:l.promise};s.close.then(function(){k.$destroy(),q.remove()}),d.resolve(s)}).catch(function(a){d.reject(a)}),d.promise):(d.reject("No controller has been specified."),d.promise)}}var j=a.find("body");return new i}])}(),function(){"use strict";angular.module("app",["duScroll","angularSlideables","angularModalService","app.about","app.music","app.shows","app.contact"])}(),function(){"use strict";angular.module("app.about",[])}(),function(){"use strict";angular.module("app.contact",[])}(),function(){"use strict";angular.module("app.music",[])}(),function(){"use strict";angular.module("app.shows",[])}(),function(){"use strict";function a(){return function(a){var b=Math.floor(a/60),c=Math.floor(a)-60*b;return 10>c&&(c="0"+c),b+":"+c}}angular.module("app").filter("mmss",a)}(),function(){"use strict";function a(a,b){var c,d=a.matchMedia("(max-width: 499px)"),e="SHOW MORE";return c={mlq:d,label:e,toggle:function(){var a=this;a.showMore=!this.showMore,b(function(){a.label="SHOW MORE"==a.label?"SHOW LESS":"SHOW MORE"},500)}}}a.$inject=["$window","$timeout"],angular.module("app.about").service("bioService",a)}(),function(){"use strict";function a(a,b,c,d){var e,f,g="SEND",h=!1,i=!1;return e={data:f,sent:h,sending:i,label:g,submit:function(a){var c=this;a&&(this.sending=!0,b({url:"scripts/send.php",method:"POST",data:c.data,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){c.success(),console.log("OK",a)}).error(function(a){c.sending=!1,console.log("ERR",a)}))},success:function(){this.sent=!0,this.sending=!1,this.label="SENT",this.reset(),d.showModal({templateUrl:"modal.html",controller:"ModalController"}).then(function(a){a.close.then(function(a){console.log(a)})})},reset:function(){var a=this;this.data.name="",this.data.email="",this.data.message="",c(function(){a.sent=!1,a.label="SEND"},3e3)}}}a.$inject=["$rootScope","$http","$timeout","ModalService"],angular.module("app.contact").factory("formService",a)}(),function(){"use strict";function a(a){var b=a[0].createElement("audio");return b}a.$inject=["$document"],angular.module("app.music").factory("audio",a)}(),function(){"use strict";function a(a,b){var c,d=[],e=!1,f={album:0,track:0};return c={playlist:d,paused:e,current:f,playing:!1,pristine:!0,progress:0,duration:0,progress_percent:0,play:function(a,c){d.length&&(angular.isDefined(a)&&(f.track=a),angular.isDefined(c)&&(f.album=c),(!this.paused||this.pristine||angular.isDefined(a))&&(b.src=d[f.album].tracks[f.track].url),b.play(),this.playing=!0,this.pristine=!1,this.paused=!1)},pause:function(){c.playing&&(b.pause(),this.playing=!1,this.paused=!0)},next:function(){d.length&&(this.paused=!1,this.progress_percent=0,d[f.album].tracks.length>f.track+1?f.track++:(f.track=0,f.album=(f.album+1)%d.length),c.playing&&this.play())},previous:function(){d.length&&(this.paused=!1,this.progress_percent=0,b.currentTime>3&&this.playing?b.currentTime=0:f.track>0?f.track--:(f.album=(f.album-1+d.length)%d.length,f.track=d[f.album].tracks.length-1),this.playing&&this.play())},timeUpdate:function(){c.progress=b.currentTime||0,c.duration=parseInt(b.duration,10)||0,c.progress_percent=c.progress/c.duration*100}},d.add=function(a){-1==d.indexOf(a)&&d.push(a)},b.addEventListener("ended",function(){a.$apply(c.next)},!1),b.addEventListener("timeupdate",function(){a.$apply(c.timeUpdate)}),c}a.$inject=["$rootScope","audio"],angular.module("app.music").factory("playerService",a)}(),function(){"use strict";function a(a,b){var c,d=a.matchMedia("(orientation: portrait) and (max-width: 749px)"),e=d.matches?2:3,f=!1,g="SHOW MORE";return c={mlq:d,numCols:e,showMore:f,label:g,toggle:function(){var a=this;a.showMore=!this.showMore,b(function(){a.label="SHOW MORE"==a.label?"SHOW LESS":"SHOW MORE"},500)}}}a.$inject=["$window","$timeout"],angular.module("app.shows").factory("calService",a)}(),function(){"use strict";function a(a){var b=this;b.label=a.label,b.toggle=a.toggle,b.showMore=a.showMore,b.showButton=a.mlq.matches}a.$inject=["bioService"],angular.module("app.about").controller("AboutController",a)}(),function(){"use strict";function a(a){var b=this;b.data=a.data,b.label=a.label,b.sent=a.sent,b.sending=a.sending,b.submit=a.submit,b.success=a.success,b.reset=a.reset}a.$inject=["formService","ModalService"],angular.module("app.contact").controller("ContactController",a)}(),function(){"use strict";function a(a,b){a.display=!0,a.close=function(){a.display=!1,b()}}a.$inject=["$scope","close"],angular.module("app.contact").controller("ModalController",a)}(),function(){"use strict";function a(a,b){var c=this;c.player=b,a.get("albums.json").success(function(a){c.albums=a})}a.$inject=["$http","playerService"],angular.module("app.music").controller("MusicController",a)}(),function(){"use strict";function a(a,b){var c=this;c.label=b.label,c.toggle=b.toggle,c.numCols=b.numCols,c.showMore=b.showMore,a.get("shows.json").success(function(a){c.showData=a})}a.$inject=["$http","calService"],angular.module("app.shows").controller("ShowsController",a)}();